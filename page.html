<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculate da scrapa</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="wrap">
    <header class="header">
      <div class="badge">SCRAPS</div>
      <h1>Best scrap method calc</h1>
      <p class="sub">
        Put in the store roll cost + base chance, and the refinery upgrade cost + boost.
        We’ll tell you the cheapest way (in expected scraps) to get the item.
      </p>
    </header>

     <section class="card tape">
      <div class="cardHead">
        <h2>Inputs</h2>

        <button
          id="alreadyWonBtn"
          class="toggle"
          type="button"
          aria-pressed="false"
          title="If you already won this item before, base chance gets halved."
        >
          Already won? <span class="pill" id="alreadyWonState">NO</span>
        </button>
      </div>

      <div class="grid">
        <label class="field">
          <span>Item roll cost (scraps)</span>
          <input id="rollCost" type="number" min="0" step="1" value="250" />
        </label>

        <label class="field">
          <span>Base chance per roll (%)</span>
          <input id="baseChance" type="number" min="0" max="100" step="1" value="40" />
        </label>

        <label class="field">
          <span>Upgrade cost (scraps)</span>
          <input id="upgradeCost" type="number" min="0" step="1" value="51" />
        </label>

        <label class="field">
          <span>Chance increase per upgrade (percentage points)</span>
          <input id="upgradeInc" type="number" min="0" step="1" value="5" />
        </label>
      </div>

      <div class="row">
        <button id="calcBtn" class="primary" type="button">Calculate</button>
        <button id="resetBtn" class="ghost" type="button">Reset</button>
      </div>

      <p class="hint">
        Assumes upgrades persist after failed rolls (your chance stays boosted).
        Cheapest means the lowest <b>expected scraps</b> to win once.
        Tier payouts: T1=12, T2=16, T3=20, T4=25 scraps per project.
      </p>
    </section>

    <section class="card">
      <h2>Result</h2>
      <div id="result" class="result">
        Enter values and hit <b>Calculate</b>.
      </div>
    </section>

    <footer class="footer">
      <p>
        Tip: “Expected” is the long-run average. You might win on roll 1… or take way longer.
        This picks the best strategy mathematically for lowest average cost.
      </p>
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
