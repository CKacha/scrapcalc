//gonna copy & paste the repo code and see wtf it does 
//nathan what the heck are you doing 

Checking all recent commits what should be related to the calcs 

// Roll cost = baseProbability% of item price. Does not scale with upgrades.
// Escalation (applied at call site) makes repeated rolls more expensive.

const UPGRADE_START_PERCENT = 0.25;
const UPGRADE_DECAY = 1.05;
const UPGRADE_MAX_BUDGET_MULTIPLIER = 2;
const UPGRADE_MAX_BUDGET_MULTIPLIER = 3;

export function getUpgradeCost(price: number, upgradeCount: number): number | null {
  const maxBudget = price * UPGRADE_MAX_BUDGET_MULTIPLIER;
  let cumulative = 0;
  for (let i = 0; i < upgradeCount; i++) {
    cumulative += Math.max(1, Math.floor(price * UPGRADE_START_PERCENT / Math.pow(UPGRADE_DECAY, i)));
  }
  if (cumulative >= maxBudget) return null;
  const nextCost = Math.max(1, Math.floor(price * UPGRADE_START_PERCENT / Math.pow(UPGRADE_DECAY, upgradeCount)));
  if (cumulative + nextCost > maxBudget) {
    const remaining = Math.floor(maxBudget - cumulative);
    return remaining > 0 ? remaining : null;
  }
  return nextCost;
}


export function getUpgradeCost(price: number, upgradeCount: number, actualSpent?: number): number | null {
  const maxBudget = price * UPGRADE_MAX_BUDGET_MULTIPLIER;
}
